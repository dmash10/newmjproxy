"use strict";(self.webpackChunkmidjourney_proxy_admin=self.webpackChunkmidjourney_proxy_admin||[]).push([[248],{86743:function(dt,Pe,i){var M=i(67294),n=i(30470),_=i(83622),se=i(33671);function ie(U){return!!(U!=null&&U.then)}const Ee=U=>{const{type:Ne,children:Se,prefixCls:Ze,buttonProps:Z,close:K,autoFocus:ee,emitEvent:ce,isSilent:ue,quitOnNullishReturnValue:Ce,actionFn:k}=U,W=M.useRef(!1),$e=M.useRef(null),[ge,ye]=(0,n.Z)(!1),Q=(...R)=>{K==null||K.apply(void 0,R)};M.useEffect(()=>{let R=null;return ee&&(R=setTimeout(()=>{var p;(p=$e.current)===null||p===void 0||p.focus({preventScroll:!0})})),()=>{R&&clearTimeout(R)}},[]);const xe=R=>{ie(R)&&(ye(!0),R.then((...p)=>{ye(!1,!0),Q.apply(void 0,p),W.current=!1},p=>{if(ye(!1,!0),W.current=!1,!(ue!=null&&ue()))return Promise.reject(p)}))},w=R=>{if(W.current)return;if(W.current=!0,!k){Q();return}let p;if(ce){if(p=k(R),Ce&&!ie(p)){W.current=!1,Q(R);return}}else if(k.length)p=k(K),W.current=!1;else if(p=k(),!ie(p)){Q();return}xe(p)};return M.createElement(_.ZP,Object.assign({},(0,se.nx)(Ne),{onClick:w,loading:ge,prefixCls:Ze},Z,{ref:$e}),Se)};Pe.Z=Ee},28248:function(dt,Pe,i){i.d(Pe,{Z:function(){return nn}});var M=i(74902),n=i(67294),_=i(53124),se=i(21532),ie=i(69711),Ee=i(76278),U=i(17012),Ne=i(26702),Se=i(1558),Ze=i(93967),Z=i.n(Ze),K=i(87263),ee=i(33603),ce=i(10110),ue=i(29691),Ce=i(86743);const k=n.createContext({}),{Provider:W}=k;var ge=()=>{const{autoFocusButton:e,cancelButtonProps:t,cancelTextLocale:l,isSilent:o,mergedOkCancel:a,rootPrefixCls:c,close:d,onCancel:u,onConfirm:s}=(0,n.useContext)(k);return a?n.createElement(Ce.Z,{isSilent:o,actionFn:u,close:(...f)=>{d==null||d.apply(void 0,f),s==null||s(!1)},autoFocus:e==="cancel",buttonProps:t,prefixCls:`${c}-btn`},l):null},Q=()=>{const{autoFocusButton:e,close:t,isSilent:l,okButtonProps:o,rootPrefixCls:a,okTextLocale:c,okType:d,onConfirm:u,onOk:s}=(0,n.useContext)(k);return n.createElement(Ce.Z,{isSilent:l,type:d||"primary",actionFn:s,close:(...f)=>{t==null||t.apply(void 0,f),u==null||u(!0)},autoFocus:e==="ok",buttonProps:o,prefixCls:`${a}-btn`},c)},xe=i(62208),w=i(87462),R=i(97685),p=i(2788),ke=n.createContext({}),T=i(1413),Be=i(94999),ft=i(7028),De=i(15105),we=i(64217);function Ae(e,t,l){var o=t;return!o&&l&&(o="".concat(e,"-").concat(l)),o}function Fe(e,t){var l=e["page".concat(t?"Y":"X","Offset")],o="scroll".concat(t?"Top":"Left");if(typeof l!="number"){var a=e.document;l=a.documentElement[o],typeof l!="number"&&(l=a.body[o])}return l}function mt(e){var t=e.getBoundingClientRect(),l={left:t.left,top:t.top},o=e.ownerDocument,a=o.defaultView||o.parentWindow;return l.left+=Fe(a),l.top+=Fe(a,!0),l}var Le=i(29372),We=i(71002),vt=i(42550),Ct=n.memo(function(e){var t=e.children;return t},function(e,t){var l=t.shouldUpdate;return!l}),gt={width:0,height:0,overflow:"hidden",outline:"none"},yt={outline:"none"},xt=n.forwardRef(function(e,t){var l=e.prefixCls,o=e.className,a=e.style,c=e.title,d=e.ariaId,u=e.footer,s=e.closable,f=e.closeIcon,r=e.onClose,m=e.children,v=e.bodyStyle,g=e.bodyProps,y=e.modalRender,C=e.onMouseDown,O=e.onMouseUp,b=e.holderRef,x=e.visible,P=e.forceRender,S=e.width,I=e.height,h=e.classNames,j=e.styles,fe=n.useContext(ke),te=fe.panel,ne=(0,vt.x1)(b,te),V=(0,n.useRef)(),E=(0,n.useRef)();n.useImperativeHandle(t,function(){return{focus:function(){var D;(D=V.current)===null||D===void 0||D.focus({preventScroll:!0})},changeActive:function(D){var le=document,q=le.activeElement;D&&q===E.current?V.current.focus({preventScroll:!0}):!D&&q===V.current&&E.current.focus({preventScroll:!0})}}});var H={};S!==void 0&&(H.width=S),I!==void 0&&(H.height=I);var A=u?n.createElement("div",{className:Z()("".concat(l,"-footer"),h==null?void 0:h.footer),style:(0,T.Z)({},j==null?void 0:j.footer)},u):null,$=c?n.createElement("div",{className:Z()("".concat(l,"-header"),h==null?void 0:h.header),style:(0,T.Z)({},j==null?void 0:j.header)},n.createElement("div",{className:"".concat(l,"-title"),id:d},c)):null,F=(0,n.useMemo)(function(){return(0,We.Z)(s)==="object"&&s!==null?s:s?{closeIcon:f!=null?f:n.createElement("span",{className:"".concat(l,"-close-x")})}:{}},[s,f,l]),z=(0,we.Z)(F,!0),G=(0,We.Z)(s)==="object"&&s.disabled,oe=s?n.createElement("button",(0,w.Z)({type:"button",onClick:r,"aria-label":"Close"},z,{className:"".concat(l,"-close"),disabled:G}),F.closeIcon):null,Y=n.createElement("div",{className:Z()("".concat(l,"-content"),h==null?void 0:h.content),style:j==null?void 0:j.content},oe,$,n.createElement("div",(0,w.Z)({className:Z()("".concat(l,"-body"),h==null?void 0:h.body),style:(0,T.Z)((0,T.Z)({},v),j==null?void 0:j.body)},g),m),A);return n.createElement("div",{key:"dialog-element",role:"dialog","aria-labelledby":c?d:null,"aria-modal":"true",ref:ne,style:(0,T.Z)((0,T.Z)({},a),H),className:Z()(l,o),onMouseDown:C,onMouseUp:O},n.createElement("div",{ref:V,tabIndex:0,style:yt},n.createElement(Ct,{shouldUpdate:x||P},y?y(Y):Y)),n.createElement("div",{tabIndex:0,ref:E,style:gt}))}),ze=xt,Ve=n.forwardRef(function(e,t){var l=e.prefixCls,o=e.title,a=e.style,c=e.className,d=e.visible,u=e.forceRender,s=e.destroyOnClose,f=e.motionName,r=e.ariaId,m=e.onVisibleChanged,v=e.mousePosition,g=(0,n.useRef)(),y=n.useState(),C=(0,R.Z)(y,2),O=C[0],b=C[1],x={};O&&(x.transformOrigin=O);function P(){var S=mt(g.current);b(v&&(v.x||v.y)?"".concat(v.x-S.left,"px ").concat(v.y-S.top,"px"):"")}return n.createElement(Le.ZP,{visible:d,onVisibleChanged:m,onAppearPrepare:P,onEnterPrepare:P,forceRender:u,motionName:f,removeOnLeave:s,ref:g},function(S,I){var h=S.className,j=S.style;return n.createElement(ze,(0,w.Z)({},e,{ref:t,title:o,ariaId:r,prefixCls:l,holderRef:I,style:(0,T.Z)((0,T.Z)((0,T.Z)({},j),a),x),className:Z()(c,h)}))})});Ve.displayName="Content";var bt=Ve,Ot=function(t){var l=t.prefixCls,o=t.style,a=t.visible,c=t.maskProps,d=t.motionName,u=t.className;return n.createElement(Le.ZP,{key:"mask",visible:a,motionName:d,leavedClassName:"".concat(l,"-mask-hidden")},function(s,f){var r=s.className,m=s.style;return n.createElement("div",(0,w.Z)({ref:f,style:(0,T.Z)((0,T.Z)({},m),o),className:Z()("".concat(l,"-mask"),r,u)},c))})},ht=Ot,on=i(80334),Pt=function(t){var l=t.prefixCls,o=l===void 0?"rc-dialog":l,a=t.zIndex,c=t.visible,d=c===void 0?!1:c,u=t.keyboard,s=u===void 0?!0:u,f=t.focusTriggerAfterClose,r=f===void 0?!0:f,m=t.wrapStyle,v=t.wrapClassName,g=t.wrapProps,y=t.onClose,C=t.afterOpenChange,O=t.afterClose,b=t.transitionName,x=t.animation,P=t.closable,S=P===void 0?!0:P,I=t.mask,h=I===void 0?!0:I,j=t.maskTransitionName,fe=t.maskAnimation,te=t.maskClosable,ne=te===void 0?!0:te,V=t.maskStyle,E=t.maskProps,H=t.rootClassName,A=t.classNames,$=t.styles,F=(0,n.useRef)(),z=(0,n.useRef)(),G=(0,n.useRef)(),oe=n.useState(d),Y=(0,R.Z)(oe,2),J=Y[0],D=Y[1],le=(0,ft.Z)();function q(){(0,Be.Z)(z.current,document.activeElement)||(F.current=document.activeElement)}function pe(){if(!(0,Be.Z)(z.current,document.activeElement)){var N;(N=G.current)===null||N===void 0||N.focus()}}function Te(N){if(N)pe();else{if(D(!1),h&&F.current&&r){try{F.current.focus({preventScroll:!0})}catch(Me){}F.current=null}J&&(O==null||O())}C==null||C(N)}function me(N){y==null||y(N)}var ae=(0,n.useRef)(!1),ve=(0,n.useRef)(),Re=function(){clearTimeout(ve.current),ae.current=!0},re=function(){ve.current=setTimeout(function(){ae.current=!1})},Oe=null;ne&&(Oe=function(Me){ae.current?ae.current=!1:z.current===Me.target&&me(Me)});function L(N){if(s&&N.keyCode===De.Z.ESC){N.stopPropagation(),me(N);return}d&&N.keyCode===De.Z.TAB&&G.current.changeActive(!N.shiftKey)}(0,n.useEffect)(function(){d&&(D(!0),q())},[d]),(0,n.useEffect)(function(){return function(){clearTimeout(ve.current)}},[]);var he=(0,T.Z)((0,T.Z)((0,T.Z)({zIndex:a},m),$==null?void 0:$.wrapper),{},{display:J?null:"none"});return n.createElement("div",(0,w.Z)({className:Z()("".concat(o,"-root"),H)},(0,we.Z)(t,{data:!0})),n.createElement(ht,{prefixCls:o,visible:h&&d,motionName:Ae(o,j,fe),style:(0,T.Z)((0,T.Z)({zIndex:a},V),$==null?void 0:$.mask),maskProps:E,className:A==null?void 0:A.mask}),n.createElement("div",(0,w.Z)({tabIndex:-1,onKeyDown:L,className:Z()("".concat(o,"-wrap"),v,A==null?void 0:A.wrapper),ref:z,onClick:Oe,style:he},g),n.createElement(bt,(0,w.Z)({},t,{onMouseDown:Re,onMouseUp:re,ref:G,closable:S,ariaId:le,prefixCls:o,visible:d&&J,onClose:me,onVisibleChanged:Te,motionName:Ae(o,b,x)}))))},Et=Pt,He=function(t){var l=t.visible,o=t.getContainer,a=t.forceRender,c=t.destroyOnClose,d=c===void 0?!1:c,u=t.afterClose,s=t.panelRef,f=n.useState(l),r=(0,R.Z)(f,2),m=r[0],v=r[1],g=n.useMemo(function(){return{panel:s}},[s]);return n.useEffect(function(){l&&v(!0)},[l]),!a&&d&&!m?null:n.createElement(ke.Provider,{value:g},n.createElement(p.Z,{open:l||a||m,autoDestroy:!1,getContainer:o,autoLock:l||m},n.createElement(Et,(0,w.Z)({},t,{destroyOnClose:d,afterClose:function(){u==null||u(),v(!1)}}))))};He.displayName="Dialog";var Nt=He,St=Nt,Zt=i(89942),je=i(69760),$t=i(98924);const jt=()=>(0,$t.Z)()&&window.document.documentElement;var It=i(43945),Ue=i(35792),pt=i(48054),Tt=i(16569),Rt=i(98866),Ke=i(83622),Qe=()=>{const{cancelButtonProps:e,cancelTextLocale:t,onCancel:l}=(0,n.useContext)(k);return n.createElement(Ke.ZP,Object.assign({onClick:l},e),t)},Mt=i(33671),Xe=()=>{const{confirmLoading:e,okButtonProps:t,okType:l,okTextLocale:o,onOk:a}=(0,n.useContext)(k);return n.createElement(Ke.ZP,Object.assign({},(0,Mt.nx)(l),{loading:e,onClick:a},t),o)},Ge=i(83008);function Ye(e,t){return n.createElement("span",{className:`${e}-close-x`},t||n.createElement(xe.Z,{className:`${e}-close-icon`}))}const Je=e=>{const{okText:t,okType:l="primary",cancelText:o,confirmLoading:a,onOk:c,onCancel:d,okButtonProps:u,cancelButtonProps:s,footer:f}=e,[r]=(0,ce.Z)("Modal",(0,Ge.A)()),m=t||(r==null?void 0:r.okText),v=o||(r==null?void 0:r.cancelText),g={confirmLoading:a,okButtonProps:u,cancelButtonProps:s,okTextLocale:m,cancelTextLocale:v,okType:l,onOk:c,onCancel:d},y=n.useMemo(()=>g,(0,M.Z)(Object.values(g)));let C;return typeof f=="function"||typeof f=="undefined"?(C=n.createElement(n.Fragment,null,n.createElement(Qe,null),n.createElement(Xe,null)),typeof f=="function"&&(C=f(C,{OkBtn:Xe,CancelBtn:Qe})),C=n.createElement(W,{value:y},C)):C=f,n.createElement(Rt.n,{disabled:!1},C)};var be=i(71194),kt=function(e,t){var l={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(l[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,o=Object.getOwnPropertySymbols(e);a<o.length;a++)t.indexOf(o[a])<0&&Object.prototype.propertyIsEnumerable.call(e,o[a])&&(l[o[a]]=e[o[a]]);return l};let Ie;const Bt=e=>{Ie={x:e.pageX,y:e.pageY},setTimeout(()=>{Ie=null},100)};jt()&&document.documentElement.addEventListener("click",Bt,!0);var qe=e=>{const{prefixCls:t,className:l,rootClassName:o,open:a,wrapClassName:c,centered:d,getContainer:u,focusTriggerAfterClose:s=!0,style:f,visible:r,width:m=520,footer:v,classNames:g,styles:y,children:C,loading:O,confirmLoading:b,zIndex:x,mousePosition:P,onOk:S,onCancel:I,destroyOnHidden:h,destroyOnClose:j}=e,fe=kt(e,["prefixCls","className","rootClassName","open","wrapClassName","centered","getContainer","focusTriggerAfterClose","style","visible","width","footer","classNames","styles","children","loading","confirmLoading","zIndex","mousePosition","onOk","onCancel","destroyOnHidden","destroyOnClose"]),{getPopupContainer:te,getPrefixCls:ne,direction:V,modal:E}=n.useContext(_.E_),H=L=>{b||I==null||I(L)},A=L=>{S==null||S(L)},$=ne("modal",t),F=ne(),z=(0,Ue.Z)($),[G,oe,Y]=(0,be.ZP)($,z),J=Z()(c,{[`${$}-centered`]:d!=null?d:E==null?void 0:E.centered,[`${$}-wrap-rtl`]:V==="rtl"}),D=v!==null&&!O?n.createElement(Je,Object.assign({},e,{onOk:A,onCancel:H})):null,[le,q,pe,Te]=(0,je.Z)((0,je.w)(e),(0,je.w)(E),{closable:!0,closeIcon:n.createElement(xe.Z,{className:`${$}-close-icon`}),closeIconRender:L=>Ye($,L)}),me=(0,Tt.H)(`.${$}-content`),[ae,ve]=(0,K.Cn)("Modal",x),[Re,re]=n.useMemo(()=>m&&typeof m=="object"?[void 0,m]:[m,void 0],[m]),Oe=n.useMemo(()=>{const L={};return re&&Object.keys(re).forEach(he=>{const N=re[he];N!==void 0&&(L[`--${$}-${he}-width`]=typeof N=="number"?`${N}px`:N)}),L},[re]);return G(n.createElement(Zt.Z,{form:!0,space:!0},n.createElement(It.Z.Provider,{value:ve},n.createElement(St,Object.assign({width:Re},fe,{zIndex:ae,getContainer:u===void 0?te:u,prefixCls:$,rootClassName:Z()(oe,o,Y,z),footer:D,visible:a!=null?a:r,mousePosition:P!=null?P:Ie,onClose:H,closable:le&&Object.assign({disabled:pe,closeIcon:q},Te),closeIcon:q,focusTriggerAfterClose:s,transitionName:(0,ee.m)(F,"zoom",e.transitionName),maskTransitionName:(0,ee.m)(F,"fade",e.maskTransitionName),className:Z()(oe,l,E==null?void 0:E.className),style:Object.assign(Object.assign(Object.assign({},E==null?void 0:E.style),f),Oe),classNames:Object.assign(Object.assign(Object.assign({},E==null?void 0:E.classNames),g),{wrapper:Z()(J,g==null?void 0:g.wrapper)}),styles:Object.assign(Object.assign({},E==null?void 0:E.styles),y),panelRef:me,destroyOnClose:h!=null?h:j}),O?n.createElement(pt.Z,{active:!0,title:!1,paragraph:{rows:4},className:`${$}-body-skeleton`}):C))))},_e=i(59394),Dt=i(14747),wt=i(83559);const At=e=>{const{componentCls:t,titleFontSize:l,titleLineHeight:o,modalConfirmIconSize:a,fontSize:c,lineHeight:d,modalTitleHeight:u,fontHeight:s,confirmBodyPadding:f}=e,r=`${t}-confirm`;return{[r]:{"&-rtl":{direction:"rtl"},[`${e.antCls}-modal-header`]:{display:"none"},[`${r}-body-wrapper`]:Object.assign({},(0,Dt.dF)()),[`&${t} ${t}-body`]:{padding:f},[`${r}-body`]:{display:"flex",flexWrap:"nowrap",alignItems:"start",[`> ${e.iconCls}`]:{flex:"none",fontSize:a,marginInlineEnd:e.confirmIconMarginInlineEnd,marginTop:e.calc(e.calc(s).sub(a).equal()).div(2).equal()},[`&-has-title > ${e.iconCls}`]:{marginTop:e.calc(e.calc(u).sub(a).equal()).div(2).equal()}},[`${r}-paragraph`]:{display:"flex",flexDirection:"column",flex:"auto",rowGap:e.marginXS,maxWidth:`calc(100% - ${(0,_e.bf)(e.marginSM)})`},[`${e.iconCls} + ${r}-paragraph`]:{maxWidth:`calc(100% - ${(0,_e.bf)(e.calc(e.modalConfirmIconSize).add(e.marginSM).equal())})`},[`${r}-title`]:{color:e.colorTextHeading,fontWeight:e.fontWeightStrong,fontSize:l,lineHeight:o},[`${r}-content`]:{color:e.colorText,fontSize:c,lineHeight:d},[`${r}-btns`]:{textAlign:"end",marginTop:e.confirmBtnsMarginTop,[`${e.antCls}-btn + ${e.antCls}-btn`]:{marginBottom:0,marginInlineStart:e.marginXS}}},[`${r}-error ${r}-body > ${e.iconCls}`]:{color:e.colorError},[`${r}-warning ${r}-body > ${e.iconCls},
        ${r}-confirm ${r}-body > ${e.iconCls}`]:{color:e.colorWarning},[`${r}-info ${r}-body > ${e.iconCls}`]:{color:e.colorInfo},[`${r}-success ${r}-body > ${e.iconCls}`]:{color:e.colorSuccess}}};var Ft=(0,wt.bk)(["Modal","confirm"],e=>{const t=(0,be.B4)(e);return[At(t)]},be.eh,{order:-1e3}),Lt=function(e,t){var l={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(l[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,o=Object.getOwnPropertySymbols(e);a<o.length;a++)t.indexOf(o[a])<0&&Object.prototype.propertyIsEnumerable.call(e,o[a])&&(l[o[a]]=e[o[a]]);return l};function et(e){const{prefixCls:t,icon:l,okText:o,cancelText:a,confirmPrefixCls:c,type:d,okCancel:u,footer:s,locale:f}=e,r=Lt(e,["prefixCls","icon","okText","cancelText","confirmPrefixCls","type","okCancel","footer","locale"]);let m=l;if(!l&&l!==null)switch(d){case"info":m=n.createElement(Se.Z,null);break;case"success":m=n.createElement(Ee.Z,null);break;case"error":m=n.createElement(U.Z,null);break;default:m=n.createElement(Ne.Z,null)}const v=u!=null?u:d==="confirm",g=e.autoFocusButton===null?!1:e.autoFocusButton||"ok",[y]=(0,ce.Z)("Modal"),C=f||y,O=o||(v?C==null?void 0:C.okText:C==null?void 0:C.justOkText),b=a||(C==null?void 0:C.cancelText),x=Object.assign({autoFocusButton:g,cancelTextLocale:b,okTextLocale:O,mergedOkCancel:v},r),P=n.useMemo(()=>x,(0,M.Z)(Object.values(x))),S=n.createElement(n.Fragment,null,n.createElement(ge,null),n.createElement(Q,null)),I=e.title!==void 0&&e.title!==null,h=`${c}-body`;return n.createElement("div",{className:`${c}-body-wrapper`},n.createElement("div",{className:Z()(h,{[`${h}-has-title`]:I})},m,n.createElement("div",{className:`${c}-paragraph`},I&&n.createElement("span",{className:`${c}-title`},e.title),n.createElement("div",{className:`${c}-content`},e.content))),s===void 0||typeof s=="function"?n.createElement(W,{value:P},n.createElement("div",{className:`${c}-btns`},typeof s=="function"?s(S,{OkBtn:Q,CancelBtn:ge}):S)):s,n.createElement(Ft,{prefixCls:t}))}const Wt=e=>{const{close:t,zIndex:l,maskStyle:o,direction:a,prefixCls:c,wrapClassName:d,rootPrefixCls:u,bodyStyle:s,closable:f=!1,onConfirm:r,styles:m}=e,v=`${c}-confirm`,g=e.width||416,y=e.style||{},C=e.mask===void 0?!0:e.mask,O=e.maskClosable===void 0?!1:e.maskClosable,b=Z()(v,`${v}-${e.type}`,{[`${v}-rtl`]:a==="rtl"},e.className),[,x]=(0,ue.ZP)(),P=n.useMemo(()=>l!==void 0?l:x.zIndexPopupBase+K.u6,[l,x]);return n.createElement(qe,Object.assign({},e,{className:b,wrapClassName:Z()({[`${v}-centered`]:!!e.centered},d),onCancel:()=>{t==null||t({triggerCancel:!0}),r==null||r(!1)},title:"",footer:null,transitionName:(0,ee.m)(u||"","zoom",e.transitionName),maskTransitionName:(0,ee.m)(u||"","fade",e.maskTransitionName),mask:C,maskClosable:O,style:y,styles:Object.assign({body:s,mask:o},m),width:g,zIndex:P,closable:f}),n.createElement(et,Object.assign({},e,{confirmPrefixCls:v})))};var tt=e=>{const{rootPrefixCls:t,iconPrefixCls:l,direction:o,theme:a}=e;return n.createElement(se.ZP,{prefixCls:t,iconPrefixCls:l,direction:o,theme:a},n.createElement(Wt,Object.assign({},e)))},X=[];let nt="";function ot(){return nt}const zt=e=>{var t,l;const{prefixCls:o,getContainer:a,direction:c}=e,d=(0,Ge.A)(),u=(0,n.useContext)(_.E_),s=ot()||u.getPrefixCls(),f=o||`${s}-modal`;let r=a;return r===!1&&(r=void 0),n.createElement(tt,Object.assign({},e,{rootPrefixCls:s,prefixCls:f,iconPrefixCls:u.iconPrefixCls,theme:u.theme,direction:c!=null?c:u.direction,locale:(l=(t=u.locale)===null||t===void 0?void 0:t.Modal)!==null&&l!==void 0?l:d,getContainer:r}))};function de(e){const t=(0,se.w6)(),l=document.createDocumentFragment();let o=Object.assign(Object.assign({},e),{close:s,open:!0}),a,c;function d(...r){var m;if(r.some(y=>y==null?void 0:y.triggerCancel)){var g;(m=e.onCancel)===null||m===void 0||(g=m).call.apply(g,[e,()=>{}].concat((0,M.Z)(r.slice(1))))}for(let y=0;y<X.length;y++)if(X[y]===s){X.splice(y,1);break}c()}function u(r){clearTimeout(a),a=setTimeout(()=>{const m=t.getPrefixCls(void 0,ot()),v=t.getIconPrefixCls(),g=t.getTheme(),y=n.createElement(zt,Object.assign({},r));c=(0,ie.q)()(n.createElement(se.ZP,{prefixCls:m,iconPrefixCls:v,theme:g},t.holderRender?t.holderRender(y):y),l)})}function s(...r){o=Object.assign(Object.assign({},o),{open:!1,afterClose:()=>{typeof e.afterClose=="function"&&e.afterClose(),d.apply(this,r)}}),o.visible&&delete o.visible,u(o)}function f(r){typeof r=="function"?o=r(o):o=Object.assign(Object.assign({},o),r),u(o)}return u(o),X.push(s),{destroy:s,update:f}}function lt(e){return Object.assign(Object.assign({},e),{type:"warning"})}function at(e){return Object.assign(Object.assign({},e),{type:"info"})}function rt(e){return Object.assign(Object.assign({},e),{type:"success"})}function st(e){return Object.assign(Object.assign({},e),{type:"error"})}function it(e){return Object.assign(Object.assign({},e),{type:"confirm"})}function Vt({rootPrefixCls:e}){nt=e}var Ht=i(8745),Ut=function(e,t){var l={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(l[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,o=Object.getOwnPropertySymbols(e);a<o.length;a++)t.indexOf(o[a])<0&&Object.prototype.propertyIsEnumerable.call(e,o[a])&&(l[o[a]]=e[o[a]]);return l};const Kt=e=>{const{prefixCls:t,className:l,closeIcon:o,closable:a,type:c,title:d,children:u,footer:s}=e,f=Ut(e,["prefixCls","className","closeIcon","closable","type","title","children","footer"]),{getPrefixCls:r}=n.useContext(_.E_),m=r(),v=t||r("modal"),g=(0,Ue.Z)(m),[y,C,O]=(0,be.ZP)(v,g),b=`${v}-confirm`;let x={};return c?x={closable:a!=null?a:!1,title:"",footer:"",children:n.createElement(et,Object.assign({},e,{prefixCls:v,confirmPrefixCls:b,rootPrefixCls:m,content:u}))}:x={closable:a!=null?a:!0,title:d,footer:s!==null&&n.createElement(Je,Object.assign({},e)),children:u},y(n.createElement(ze,Object.assign({prefixCls:v,className:Z()(C,`${v}-pure-panel`,c&&b,c&&`${b}-${c}`,l,O,g)},f,{closeIcon:Ye(v,o),closable:a},x)))};var Qt=(0,Ht.i)(Kt);function Xt(){const[e,t]=n.useState([]),l=n.useCallback(o=>(t(a=>[].concat((0,M.Z)(a),[o])),()=>{t(a=>a.filter(c=>c!==o))}),[]);return[e,l]}var Gt=i(24457),Yt=function(e,t){var l={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(l[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,o=Object.getOwnPropertySymbols(e);a<o.length;a++)t.indexOf(o[a])<0&&Object.prototype.propertyIsEnumerable.call(e,o[a])&&(l[o[a]]=e[o[a]]);return l};const Jt=(e,t)=>{var l,{afterClose:o,config:a}=e,c=Yt(e,["afterClose","config"]);const[d,u]=n.useState(!0),[s,f]=n.useState(a),{direction:r,getPrefixCls:m}=n.useContext(_.E_),v=m("modal"),g=m(),y=()=>{var x;o(),(x=s.afterClose)===null||x===void 0||x.call(s)},C=(...x)=>{var P;if(u(!1),x.some(h=>h==null?void 0:h.triggerCancel)){var I;(P=s.onCancel)===null||P===void 0||(I=P).call.apply(I,[s,()=>{}].concat((0,M.Z)(x.slice(1))))}};n.useImperativeHandle(t,()=>({destroy:C,update:x=>{f(P=>{const S=typeof x=="function"?x(P):x;return Object.assign(Object.assign({},P),S)})}}));const O=(l=s.okCancel)!==null&&l!==void 0?l:s.type==="confirm",[b]=(0,ce.Z)("Modal",Gt.Z.Modal);return n.createElement(tt,Object.assign({prefixCls:v,rootPrefixCls:g},s,{close:C,open:d,afterClose:y,okText:s.okText||(O?b==null?void 0:b.okText:b==null?void 0:b.justOkText),direction:s.direction||r,cancelText:s.cancelText||(b==null?void 0:b.cancelText)},c))};var qt=n.forwardRef(Jt);let ct=0;const _t=n.memo(n.forwardRef((e,t)=>{const[l,o]=Xt();return n.useImperativeHandle(t,()=>({patchElement:o}),[]),n.createElement(n.Fragment,null,l)}));function en(){const e=n.useRef(null),[t,l]=n.useState([]);n.useEffect(()=>{t.length&&((0,M.Z)(t).forEach(d=>{d()}),l([]))},[t]);const o=n.useCallback(c=>function(u){var s;ct+=1;const f=n.createRef();let r;const m=new Promise(O=>{r=O});let v=!1,g;const y=n.createElement(qt,{key:`modal-${ct}`,config:c(u),ref:f,afterClose:()=>{g==null||g()},isSilent:()=>v,onConfirm:O=>{r(O)}});return g=(s=e.current)===null||s===void 0?void 0:s.patchElement(y),g&&X.push(g),{destroy:()=>{function O(){var b;(b=f.current)===null||b===void 0||b.destroy()}f.current?O():l(b=>[].concat((0,M.Z)(b),[O]))},update:O=>{function b(){var x;(x=f.current)===null||x===void 0||x.update(O)}f.current?b():l(x=>[].concat((0,M.Z)(x),[b]))},then:O=>(v=!0,m.then(O))}},[]);return[n.useMemo(()=>({info:o(at),success:o(rt),error:o(st),warning:o(lt),confirm:o(it)}),[]),n.createElement(_t,{key:"modal-holder",ref:e})]}var tn=en;function ut(e){return de(lt(e))}const B=qe;B.useModal=tn,B.info=function(t){return de(at(t))},B.success=function(t){return de(rt(t))},B.error=function(t){return de(st(t))},B.warning=ut,B.warn=ut,B.confirm=function(t){return de(it(t))},B.destroyAll=function(){for(;X.length;){const t=X.pop();t&&t()}},B.config=Vt,B._InternalPanelDoNotUseOrYouWillBeFired=Qt;var nn=B}}]);
